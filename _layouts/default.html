<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | default: site.title }}</title>
    <link rel="stylesheet" href="{{ "/assets/css/style.css" | relative_url }}">
</head>
<body>
    <header>
        <h1>{{ site.title }}</h1>
        <nav>
            <a href="{{ "/" | relative_url }}" {% if page.url == "/" %}class="active"{% endif %}>Home</a>
            <a href="{{ "/photos/" | relative_url }}" {% if page.url == "/photos/" or page.url contains "/albums/" %}class="active"{% endif %}>Photos</a>
            <a href="{{ "/blog/" | relative_url }}" {% if page.url == "/blog/" or page.layout == "post" %}class="active"{% endif %}>Blog</a>
            <a href="{{ "/recipes/" | relative_url }}" {% if page.url == "/recipes/" or page.url == "/tags/" or page.layout == "recipe" or page.layout == "tag_page" %}class="active"{% endif %}>Recipes</a>
        </nav>
    </header>

    <main>
        <div class="content-wrapper">
            {{ content }}
        </div>
    </main>

<footer>
    <span>&copy; 2024 Finley Family</span> 
    <div class="silly-button-container">
      <button id="dont-push-button">Don't push this</button>
      <div id="silly-image-popup" class="silly-image-popup" style="display: none;">
        <img id="silly-image" src="{{ '/assets/images/silly-placeholder.gif' | relative_url }}" alt="Surprise!">
        <button id="close-silly-popup">Close</button>
      </div>
    </div>
</footer>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const sillyButton = document.getElementById('dont-push-button');
        const sillyPopup = document.getElementById('silly-image-popup');
        const closeButton = document.getElementById('close-silly-popup');
        const sillyImage = document.getElementById('silly-image'); // Get image element

        // Function to update the image source (you'll call this when you have the real image)
        // function setSillyImageSource(newSrc) {
        //   if (sillyImage) {
        //     sillyImage.src = newSrc;
        //   }
        // }
        // Example usage later (don't uncomment now):
        // setSillyImageSource("{{ '/assets/images/your-actual-silly-image.gif' | relative_url }}");


        if (sillyButton && sillyPopup && closeButton) {
          sillyButton.addEventListener('click', function() {
            sillyPopup.style.display = 'flex'; // Show the popup
          });

          closeButton.addEventListener('click', function() {
            sillyPopup.style.display = 'none'; // Hide the popup
          });

          // Optional: Click outside the image (on the semi-transparent background) to close
          sillyPopup.addEventListener('click', function(event) {
             if (event.target === sillyPopup) { // Clicked on background, not image/button
                sillyPopup.style.display = 'none';
             }
          });
        }
      // === ADD THIS NEW CODE FOR HOMEPAGE GIF (inside DOMContentLoaded) ===
// Check if the current page is the homepage
const isHomePage = window.location.pathname === '{{ site.baseurl }}/' || window.location.pathname === '{{ site.baseurl }}/index.html';

if (isHomePage) {
  const dogGifElement = document.createElement('img');
  // --- TUNABLE: Path to your running dog GIF ---
  // Make sure 'running-dog.gif' (or your filename) is in 'assets/images/'
  const runningDogGifSrc = "{{ '/assets/images/running-dog.gif' | relative_url }}"; 

  // --- TUNABLE: Match these to your CSS animation durations ---
  const cssAnimationRunDuration = 5000; // Duration of CSS animation in milliseconds (e.g., 5s = 5000ms)
  const cssAnimationStartDelay = 500;  // Delay before CSS animation starts (e.g., 0.5s = 500ms)

  dogGifElement.src = runningDogGifSrc + "?t=" + new Date().getTime(); // Cache-buster for GIF replay
  dogGifElement.alt = "Running dog animation";
  dogGifElement.classList.add('running-dog-gif'); // Apply the CSS class for styling and animation

  // Add the dog GIF to the page after the initial CSS delay
  setTimeout(function() {
      document.body.appendChild(dogGifElement);

      // Remove the dog GIF element after its animation is complete
      // Total time = animation duration itself
      setTimeout(function() {
          if (dogGifElement.parentNode) { // Check if it's still on the page
              dogGifElement.parentNode.removeChild(dogGifElement);
          }
      }, cssAnimationRunDuration); 
  }, cssAnimationStartDelay);
}
// === END HOMEPAGE GIF CODE ===
      
      });
    </script>
</body>
</html>
